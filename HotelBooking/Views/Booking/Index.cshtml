@model IEnumerable<HotelBooking.Models.BookingViewModel>

@{
    ViewBag.Title = "Index";
}

<h2>Index</h2>

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    <div class="form-horizontal">

        <div class="form-group">
            <label class="control-label col-md-2">Enter Start Date:</label>
            <div class="col-md-10">
                <input type="date" id="startDate" name="startDate" value="@string.Format("{0:yyyy-MM-dd}", Session["startDate"])" />
            </div>
        </div>

        <div class="form-group">
            <label class="control-label col-md-2">Enter End Date:</label>
            <div class="col-md-10">
                <input type="date" id="endDate" name="endDate" value="@string.Format("{0:yyyy-MM-dd}", Session["endDate"])" />
            </div>
        </div>

        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" value="Search Bookings" class="btn btn-default" />
            </div>
        </div>

        @{
            if (ViewBag.Error != null)
            {
                <label class="text-danger">@ViewBag.Error</label>
            }
        }

    </div>
}

<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Hotel.Name)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Hotel.Country)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Client.Name)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Client.Surname)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.BookingDate)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.StartDate)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.EndDate)
        </th>
    </tr>

    @foreach (var item in Model)
    {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.Hotel.Name)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Hotel.Country)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Client.Name)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Client.Surname)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.BookingDate)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.StartDate)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.EndDate)
        </td>
        <td>
            @Html.ActionLink("View", "ViewBooking", new { id = item.BookingID }, new { @class = "btn btn-default" })
        </td>
    </tr>
    }

</table>

